import{_ as l,o as e,c as p,V as i}from"./chunks/framework.uGWWoR85.js";const A=JSON.parse('{"title":"UEFI","description":"","frontmatter":{},"headers":[],"relativePath":"aopencore/auefi.md","filePath":"aopencore/auefi.md","lastUpdated":1707968147000}'),o={name:"aopencore/auefi.md"},a=i('<h1 id="uefi" tabindex="-1">UEFI <a class="header-anchor" href="#uefi" aria-label="Permalink to &quot;UEFI&quot;">​</a></h1><blockquote><p>本文档会把 config 的项目分开来，内容繁琐，请仔细阅读相关配置项。配置 <code>config.plist</code> 强制要求在 Windows 环境下使用 <span style="color:#FF3030;">Propertree</span> 来编辑，其他任何软件都不建议使用。</p></blockquote><p>UEFI(统一可扩展接口)是一种规范，用于定义操作系统和平台固件之间的软件接口。本部分允许加载其他 UEFI 模块和对板载固件进行调整。</p><h2 id="apfs" tabindex="-1">APFS <a class="header-anchor" href="#apfs" aria-label="Permalink to &quot;APFS&quot;">​</a></h2><p>APFS 分区驱动的相关配置项。</p><ul><li><p>EnableJumpstart: <span style="color:#FF3030;">True</span></p><ul><li>从一个 APFS 容器中加载 APFS 驱动。</li></ul></li><li><p>GlobalConnect: <span style="color:#FF3030;">False</span></p><ul><li>在 APFS 加载期间执行完整的设备连接。修复的惠普笔记本电脑读取 APFS 分区问题。</li></ul></li><li><p>HideVerbose: <span style="color:#FF3030;">True</span></p><ul><li>是否隐藏 APFS 驱动的 verbose 信息。</li></ul></li><li><p>JumpstartHotPlug: <span style="color:#FF3030;">False</span></p><ul><li>允许从进入 OpenCore 引导菜单后插入的可移除硬盘上的 APFS 容器中加载 APFS 驱动。</li></ul></li><li><p>MinDate: <span style="color:#FF3030;">0</span></p><ul><li>允许加载的最老 APFS 驱动的发布日期。<code>0</code> 自动设置。</li></ul></li><li><p>MinVersion: <span style="color:#FF3030;">0</span></p><ul><li>允许加载的最老 APFS 驱动的版本号。<code>0</code> 自动设置。</li></ul></li></ul><h2 id="appleinput" tabindex="-1">AppleInput <a class="header-anchor" href="#appleinput" aria-label="Permalink to &quot;AppleInput&quot;">​</a></h2><p>配置 Apple 事件协议的重新实现。</p><ul><li><p>AppleEvent: <span style="color:#FF3030;">Builtin</span></p><ul><li><p>确定是使用 OpenCore 内置协议还是 OEM Apple Event 协议。</p><ul><li><code>Auto</code> 如果有可用的、已连接的和最近的，则使用 OEM Apple Event 实现，否则使用 OpenCore 的重新实现。</li><li><code>Builtin</code> 始终使用 OpenCore 对 Apple Event 协议的最新重新实现。由于 OpenCore 对协议的重新实现进行了改进（更好的精细鼠标控制、可配置的按键延迟），因此即使在苹果硬件上也建议使用此设置。</li><li><code>OEM</code> 假设苹果的协议在驱动程序连接时可用。</li></ul></li></ul></li><li><p>CustomDelays: <span style="color:#FF3030;">False</span></p><ul><li><p>在使用 Apple Event 协议的 OpenCore 重新实现时，启用自定义的按键间隔时间。在使用 OEM 苹果实现时没有影响（见 AppleEvent 设置）。</p><ul><li><code>True</code> 使用 <code>KeyInitialDelay</code> 和 <code>KeySubsequentDelay</code> 的值。</li><li><code>False</code> 使用 Apple 的默认值 500ms(50) 和 50ms(5)。</li></ul></li></ul></li><li><p>GraphicsInputMirroring: <span style="color:#FF3030;">True</span></p><ul><li>Apple 的 Apple Event 阻止图形应用程序中的键盘输入出现在基本控制台输入流中。所有硬件上的推荐设置是 <code>True</code> 。</li></ul></li><li><p>KeyInitialDelay: <span style="color:#FF3030;">50</span></p><ul><li>在 OpenCore 对 Apple Event 协议的重新实现中，配置键盘按键重复之前的初始延迟，单位为 10ms。</li></ul></li><li><p>KeySubsequentDelay: <span style="color:#FF3030;">5</span></p><ul><li>在 OpenCore 对 Apple Event 协议的重新实现中，配置键盘按键重复之间的间隔，单位为 10ms。</li></ul></li><li><p>PointerDwellClickTimeout: <span style="color:#FF3030;">0</span></p><ul><li>在 OpenCore 对 Apple Event 协议的重新实现中，以毫秒为单位配置指针停留点击单一左键的超时时间。当超时过后，在当前位置发出一次左键点击。<code>0</code> 表示超时被禁用。</li></ul></li><li><p>PointerDwellDoubleClickTimeout: <span style="color:#FF3030;">0</span></p><ul><li>在 OpenCore 对 Apple Event 协议的重新实现中，以毫秒为单位配置指针停留点击单左双击的超时。当超时过后，在当前位置发出一次左键双击。<code>0</code> 表示超时被禁用。</li></ul></li><li><p>PointerDwellRadius: <span style="color:#FF3030;">0</span></p><ul><li>在 OpenCore 对 Apple Event 协议的重新实现中，以像素为单位配置指针停留点击的容忍半径。</li></ul></li><li><p>PointerPollMask: <span style="color:#FF3030;">-1</span></p><ul><li>配置轮询指针的索引。<code>-1</code> 为所有设备。</li></ul></li><li><p>PointerPollMax: <span style="color:#FF3030;">0</span></p><ul><li>配置最大指针轮询周期，单位为 <code>ms</code>，这是 OpenCore 内置的 Apple Event 驱动程序轮询指针设备（如鼠标、触控板）的运动事件的最长时间。只要设备没有及时响应，该周期就会增加到这个值。目前的默认值为 80ms。 设置为 0 将使这一默认值保持不变。</li></ul></li><li><p>PointerPollMin: <span style="color:#FF3030;">0</span></p><ul><li>配置最小指针轮询周期，单位为 <code>ms</code>，这是 OpenCore 内置的 Apple Event 驱动程序轮询指针设备（如鼠标、触控板）的运动事件的最短时间。默认为 10 毫秒。设置为 0 将使这一默认值保持不变。</li></ul></li><li><p>PointerSpeedDiv: <span style="color:#FF3030;">1</span></p><ul><li>在 Apple Event 协议的 OpenCore 重新实现中配置指针速度除数。配合 <code>PointerSpeedMul</code> 实现鼠标移动比例。</li></ul></li><li><p>PointerSpeedMul: <span style="color:#FF3030;">1</span></p><ul><li>在 Apple Event 协议的 OpenCore 重新实现中配置指针速度乘数。配合 <code>PointerSpeedDiv</code> 实现鼠标移动比例。</li></ul></li></ul><h2 id="audio" tabindex="-1">Audio <a class="header-anchor" href="#audio" aria-label="Permalink to &quot;Audio&quot;">​</a></h2><p><span style="color:#FF3030;">初始配置略过</span></p><p>在开机 UEFI 阶段板载音频的驱动配置，此项对于 DP 等数字音频无效。与操作系统音频支持所需的任何配置（例如 AppleALC ）无关。</p><ul><li><p>AudioCodec: <span style="color:#FF3030;">0</span></p><ul><li>特定音频控制器上的编解码器地址，用于音频支持。</li></ul></li><li><p>AudioDevice: <span style="color:#FF3030;">0</span></p><ul><li>特定音频控制器的设备路径，用于音频支持。</li></ul></li><li><p>AudioOutMask: <span style="color:#FF3030;">1</span></p><ul><li>位字段，指示用于 UEFI 声音的输出通道。</li></ul></li><li><p>AudioSupport: <span style="color:#FF3030;">False</span></p><ul><li>通过连接到固件音频驱动程序以激活音频支持。</li></ul></li><li><p>DisconnectHda: <span style="color:#FF3030;">False</span></p><ul><li>在加载驱动程序之前，断开 HDA 控制器的连接</li></ul></li><li><p>MaximumGain: <span style="color:#FF3030;">默认值</span></p><ul><li>用于 UEFI 音频的最大增益，以分贝（dB）为单位。</li></ul></li><li><p>MinimumAssistGain: <span style="color:#FF3030;">默认值</span></p><ul><li>用于选择器音频辅助的最小增益（dB）。</li></ul></li><li><p>MinimumAudibleGain: <span style="color:#FF3030;">默认值</span></p><ul><li>尝试播放任何声音的最小增益，单位是分贝（dB）。</li></ul></li><li><p>PlayChime: <span style="color:#FF3030;">Auto</span></p><ul><li>开机时播放 Mac 特有的风铃的声音。</li></ul></li><li><p>ResetTrafficClass: <span style="color:#FF3030;">False</span></p><ul><li>将 HDA Traffic Class Select 寄存器设置为 <code>TC0</code>。</li></ul></li><li><p>SetupDelay: <span style="color:#FF3030;">0</span></p><ul><li>音频编解码器重新配置的延迟，以毫秒为单位。</li></ul></li></ul><h2 id="connectdrivers" tabindex="-1">ConnectDrivers <a class="header-anchor" href="#connectdrivers" aria-label="Permalink to &quot;ConnectDrivers&quot;">​</a></h2><p>True</p><p>驱动程序加载后执行 UEFI 控制器连接操作。</p><h2 id="drivers" tabindex="-1">Drivers <a class="header-anchor" href="#drivers" aria-label="Permalink to &quot;Drivers&quot;">​</a></h2><p>从 <code>./OC/Drivers</code> 目录下加载驱动。</p><h2 id="input" tabindex="-1">Input <a class="header-anchor" href="#input" aria-label="Permalink to &quot;Input&quot;">​</a></h2><p>输入(键盘和鼠标)个性化配置项。</p><ul><li><p>KeyFiltering: <span style="color:#FF3030;">False</span></p><ul><li>启用键盘输入的合理性检查。</li></ul></li><li><p>KeyForgetThreshold: <span style="color:#FF3030;">默认值</span></p><ul><li>两次按键之间的间隔时间。</li></ul></li><li><p>KeySupport: <span style="color:#FF3030;">False</span></p><ul><li>启用内部键盘输入转换为 AppleKeyMapAggregator 协议。</li></ul></li><li><p>KeySupportMode: <span style="color:#FF3030;">Auto</span></p><ul><li>将内部键盘的输入转换设置为 AppleKeyMapAggregator 协议模式。</li></ul></li><li><p>KeySwap: <span style="color:#FF3030;">False</span></p><ul><li>启用后将交换 <code>Command</code> 和 <code>Option</code>。</li></ul></li><li><p>PointerSupport: <span style="color:#FF3030;">False</span></p><ul><li>启用内部指针驱动器。</li></ul></li><li><p>PointerSupportMode: <span style="color:#FF3030;">默认值</span></p><ul><li>设置用于内部指针驱动程序的 OEM 协议。</li></ul></li><li><p>TimerResolution: <span style="color:#FF3030;">0</span></p><ul><li>固件始终刷新的频率。设置为<code>0</code>不改变固件的刷新频率。</li></ul></li></ul><h2 id="output" tabindex="-1">Output <a class="header-anchor" href="#output" aria-label="Permalink to &quot;Output&quot;">​</a></h2><p>输出(文本和图形)个性化配置项。</p><ul><li><p>ClearScreenOnModeSwitch: <span style="color:#FF3030;">False</span></p><ul><li>消除开机时从图形模式转换到文本时出现残影的问题。</li></ul></li><li><p>ConsoleFont: <span style="color:#FF3030;">留空</span></p><ul><li>指定用于 OpenCore 内置文本渲染器的控制台字体。</li></ul></li><li><p>ConsoleMode: <span style="color:#FF3030;">留空</span></p><ul><li>控制台的输出字符串分辨率。</li></ul></li><li><p>DirectGopRendering: <span style="color:#FF3030;">False</span></p><ul><li>为控制台使用内置的图形输出协议渲染器。</li></ul></li><li><p>ForceResolution: <span style="color:#FF3030;">False</span></p><ul><li>老旧的 CPU 核显需要开启此项来自定义分辨率。</li></ul></li><li><p>GopBurstMode: <span style="color:#FF3030;">False</span></p><ul><li>如果系统固件尚未启用 <code>write-combining (WC) caching for GOP memory</code>，则启用 <code>write-combining (WC) caching for GOP memory</code>。</li></ul></li><li><p>GopPassThrough: <span style="color:#FF3030;">Disabled</span></p><ul><li>在 UGA 环境中调用显卡 GOP。若要开启它，你必须同时开启<code>ProvideConsoleGop</code>。</li></ul></li><li><p>IgnoreTextInGraphics: <span style="color:#FF3030;">False</span></p><ul><li>修复在不使用 <code>-v</code> 跑马模式时候，开机日志导致的苹果 LOGO 显示不正确的问题。</li></ul></li><li><p>InitialMode: <span style="color:#FF3030;">Auto</span></p><ul><li>OC 的渲染模式。</li></ul></li><li><p>ProvideConsoleGop: <span style="color:#FF3030;">True</span></p><ul><li>调用显卡 GOP。</li></ul></li><li><p>ReconnectGraphicsOnConnect: <span style="color:#FF3030;">False</span></p><ul><li>在驱动连接过程中重新连接所有的图形驱动。</li></ul></li><li><p>ReconnectOnResChange: <span style="color:#FF3030;">False</span></p><ul><li>一些固件在 GOP 分辨率改变后会重新连接显示器才能输出，一般情况下选择 NO。</li></ul></li><li><p>ReplaceTabWithSpace: <span style="color:#FF3030;">False</span></p><ul><li>一些固件在 UEFI Shell 下 Tab 功能键不生效，开启这个会用空格键代替。</li></ul></li><li><p>Resolution: <span style="color:#FF3030;">留空</span></p><ul><li>设置控制台的屏幕分辨率。</li></ul></li><li><p>SanitiseClearScreen: <span style="color:#FF3030;">True</span></p><ul><li>修复 4K 及以上显示器的输出问题。</li></ul></li><li><p>TextRenderer: <span style="color:#FF3030;">BuiltinGraphics</span></p><ul><li>选择通过标准控制台输出的渲染器。</li></ul></li><li><p>UIScale: <span style="color:#FF3030;">0</span></p><ul><li>用户界面的缩放系数。设置<code>0</code>根据分辨率自动缩放</li></ul></li><li><p>UgaPassThrough: <span style="color:#FF3030;">False</span></p><ul><li>在 GOP 协议实例的基础上提供 UGA 协议实例。</li></ul></li></ul><h2 id="protocoloverrides" tabindex="-1">ProtocolOverrides <a class="header-anchor" href="#protocoloverrides" aria-label="Permalink to &quot;ProtocolOverrides&quot;">​</a></h2><ul><li><p>AppleAudio: <span style="color:#FF3030;">False</span></p><ul><li>用内置的版本替换 Apple 音频协议。</li></ul></li><li><p>AppleBootPolicy: <span style="color:#FF3030;">False</span></p><ul><li>用内置的版本替换 <code>Apple Boot Policy</code> 协议，可用于确保 VM 或旧版 Mac 设备上的 APFS 兼容性。</li></ul></li><li><p>AppleDebugLog: <span style="color:#FF3030;">False</span></p><ul><li>用内置的版本替换 Apple 调试日志输出协议。</li></ul></li><li><p>AppleEg2Info: <span style="color:#FF3030;">False</span></p><ul><li>用内置的版本替换 <code>Apple EFI Graphics 2</code> 协议。</li></ul></li><li><p>AppleFramebufferInfo: <span style="color:#FF3030;">False</span></p><ul><li>重新安装内置的 <code>Apple Framebuffer Info</code> 协议。</li></ul></li><li><p>AppleImageConversion: <span style="color:#FF3030;">False</span></p><ul><li>用内置的版本替换 <code>Apple Image Conservation</code> 协议。</li></ul></li><li><p>AppleImg4Verification: <span style="color:#FF3030;">False</span></p><ul><li>用内置的版本替换 <code>Apple IMG4</code> 验证协议。</li></ul></li><li><p>AppleKeyMap: <span style="color:#FF3030;">False</span></p><ul><li>用内置的版本替换 <code>Apple Key Map</code> 协议。</li></ul></li><li><p>AppleRtcRam: <span style="color:#FF3030;">False</span></p><ul><li>用内置的版本替换 <code>Apple RTC RAM</code> 协议。</li></ul></li><li><p>AppleSecureBoot: <span style="color:#FF3030;">False</span></p><ul><li>用内置的版本替换 Apple 安全启动协议</li></ul></li><li><p>AppleSmcIo: <span style="color:#FF3030;">False</span></p><ul><li>用内置的版本替换 SMC I/O 协议。</li></ul></li><li><p>AppleUserInterfaceTheme: <span style="color:#FF3030;">False</span></p><ul><li>用内置的版本替换 <code>Apple User Interface Theme</code> 协议。</li></ul></li><li><p>DataHub: <span style="color:#FF3030;">False</span></p><ul><li>用内置的版本替换 Data Hub 协议。如果已经安装了协议，这将删除所有先前的属性。</li></ul></li><li><p>DeviceProperties: <span style="color:#FF3030;">False</span></p><ul><li>用内置的版本替换 Device Property 协议。 这一选项可用于确保在 VM 或旧版 Mac 设备上的兼容性。</li></ul></li><li><p>FirmwareVolume: <span style="color:#FF3030;">False</span></p><ul><li>强制包装固件卷协议或安装新版本以支持 FileVault 2 的自定义光标图像。</li></ul></li><li><p>HashServices: <span style="color:#FF3030;">False</span></p><ul><li>用内置版本替换 Hash Services 协议。</li></ul></li><li><p>OSInfo: <span style="color:#FF3030;">False</span></p><ul><li>用内置版本替换 OS Info 协议。</li></ul></li><li><p>PciIo: <span style="color:#FF3030;">False</span></p><ul><li>用 64 位 MMIO 兼容的函数替换 Cpulo 和 PciRootBridgelo 中的函数，以修复使用 4G 解码时的无效参数。</li></ul></li><li><p>UnicodeCollation: <span style="color:#FF3030;">False</span></p><ul><li>用内置版本替换 Unicode Collation 服务。建议启用这一选项以确保 UEFI Shell 的兼容性。</li></ul></li></ul><h2 id="quirks" tabindex="-1">Quirks <a class="header-anchor" href="#quirks" aria-label="Permalink to &quot;Quirks&quot;">​</a></h2><ul><li><p>ActivateHpetSupport: <span style="color:#FF3030;">False</span></p><ul><li>激活 HPET 支持。</li></ul></li><li><p>DisableSecurityPolicy: <span style="color:#FF3030;">False</span></p><ul><li>禁用平台安全策略。</li></ul></li><li><p>EnableVectorAcceleration: <span style="color:#FF3030;">True</span></p><ul><li>启用 SHA-512 和 SHA-384 哈希算法的 AVX 矢量加速。这个选项可能会在某些笔记本电脑的固件上引起问题，包括联想。</li></ul></li><li><p>EnableVmx: <span style="color:#FF3030;">False</span></p><ul><li>启用英特尔虚拟机扩展。</li></ul></li><li><p>ExitBootServicesDelay: <span style="color:#FF3030;">0</span></p><ul><li>在 <code>EXIT_BOOT_SERVICES</code> 事件后添加延迟，单位为毫秒。</li></ul></li><li><p>ForceOcWriteFlash: <span style="color:#FF3030;">False</span></p><ul><li>启用所有 OpenCore 管理的 NVRAM 系统变量向闪存的写入。</li></ul></li><li><p>ForgeUefiSupport: <span style="color:#FF3030;">False</span></p><ul><li>在 <code>EFI 1.x</code> 固件上提供部分 <code>UEFI 2.x</code> 支持。</li></ul></li><li><p>IgnoreInvalidFlexRatio: <span style="color:#FF3030;">False</span></p><ul><li>某些类型的固件（例如：APTIO IV）可能在 <code>MSR_FLEX_RATIO（0x194）MSR</code> 寄存器中包含无效的值。这些值可能导致英特尔平台上的 macOS 启动失败。</li></ul></li><li><p>ReleaseUsbOwnership: <span style="color:#FF3030;">False</span></p><ul><li>尝试从固件驱动程序中释放 USB 控制器所有权。尽管大多数固件都设法正确执行了该操作或者提供有一个选项，但某些固件没有，从而导致操作系统可能会在启动时卡住。除非需要，否则不建议启用这一选项。</li></ul></li><li><p>ReloadOptionRoms: <span style="color:#FF3030;">False</span></p><ul><li>查询 PCI 设备并重新加载其可选 ROM（如果可用）。</li></ul></li><li><p>RequestBootVarRouting: <span style="color:#FF3030;">True</span></p><ul><li>增加 <code>启动磁盘</code> 的可靠性。</li></ul></li><li><p>ResizeGpuBars: <span style="color:#FF3030;">-1</span></p><ul><li>配置 GPU PCI BAR 的大小。</li></ul></li><li><p>ResizeUsePciRbIo: <span style="color:#FF3030;">0</span></p><ul><li>使用 <code>PciRootBridgeIo</code> 来调整 <code>GpuBars</code> 和 <code>ResizeAppleGpuBar</code>。</li></ul></li><li><p>TscSyncTimeout: <span style="color:#FF3030;">0</span></p><ul><li>尝试用指定的 Timeout 执行 TSC 同步。</li></ul></li><li><p>UnblockFsConnect: <span style="color:#FF3030;">False</span></p><ul><li>某些固件通过「按驱动程序」模式下来阻止引导项加载，导致文件系统协议无法安装。</li></ul></li></ul><h2 id="reservedmemory" tabindex="-1">ReservedMemory <a class="header-anchor" href="#reservedmemory" aria-label="Permalink to &quot;ReservedMemory&quot;">​</a></h2><p><span style="color:#FF3030;">初始配置略过</span></p><p>保留内存区域的起始地址，该区域应被分配为保留区，有效地将此类型的内存标记标记为操作系统不可访问。</p>',31),s=[a];function n(r,u,t,c,F,d){return e(),p("div",null,s)}const h=l(o,[["render",n]]);export{A as __pageData,h as default};
