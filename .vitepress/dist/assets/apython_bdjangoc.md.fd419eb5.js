import{_ as s,c as n,o as a,Q as o}from"./chunks/framework.1fc80e1c.js";const q=JSON.parse('{"title":"第一个 Django 应用程序 - 3","description":"","frontmatter":{},"headers":[],"relativePath":"apython/bdjangoc.md","filePath":"apython/bdjangoc.md"}'),l={name:"apython/bdjangoc.md"},p=o(`<h1 id="第一个-django-应用程序-3" tabindex="-1">第一个 Django 应用程序 - 3 <a class="header-anchor" href="#第一个-django-应用程序-3" aria-label="Permalink to &quot;第一个 Django 应用程序 - 3&quot;">​</a></h1><h2 id="添加应用视图" tabindex="-1">添加应用视图 <a class="header-anchor" href="#添加应用视图" aria-label="Permalink to &quot;添加应用视图&quot;">​</a></h2><p>通过之前的文档在后台管理系统中已经显示出 <code>Question</code> 相关的配置项了，在后台管理中也可以对 <code>Question</code>进行增、删、改、查相关的操作。</p><p>在开始本章节之前先在后台中增加了三个问题，本章节的目标就是在视图层面将已经添加的问题展示出来。</p><p>在应用 <code>./polls/views.py</code> 中添加更多的视图</p><div class="language-py vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">def</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">detail</span><span style="color:#E1E4E8;">(request, question_id):</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> HttpResponse(</span><span style="color:#9ECBFF;">&quot;You&#39;re looking at question </span><span style="color:#79B8FF;">%s</span><span style="color:#9ECBFF;">.&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">%</span><span style="color:#E1E4E8;"> question_id)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">def</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">results</span><span style="color:#E1E4E8;">(request, question_id):</span></span>
<span class="line"><span style="color:#E1E4E8;">    response </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;You&#39;re looking at the results of question </span><span style="color:#79B8FF;">%s</span><span style="color:#9ECBFF;">.&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> HttpResponse(response </span><span style="color:#F97583;">%</span><span style="color:#E1E4E8;"> question_id)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">def</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">vote</span><span style="color:#E1E4E8;">(request, question_id):</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> HttpResponse(</span><span style="color:#9ECBFF;">&quot;You&#39;re voting on question </span><span style="color:#79B8FF;">%s</span><span style="color:#9ECBFF;">.&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">%</span><span style="color:#E1E4E8;"> question_id)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">def</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">detail</span><span style="color:#24292E;">(request, question_id):</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> HttpResponse(</span><span style="color:#032F62;">&quot;You&#39;re looking at question </span><span style="color:#005CC5;">%s</span><span style="color:#032F62;">.&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">%</span><span style="color:#24292E;"> question_id)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">def</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">results</span><span style="color:#24292E;">(request, question_id):</span></span>
<span class="line"><span style="color:#24292E;">    response </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;You&#39;re looking at the results of question </span><span style="color:#005CC5;">%s</span><span style="color:#032F62;">.&quot;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> HttpResponse(response </span><span style="color:#D73A49;">%</span><span style="color:#24292E;"> question_id)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">def</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">vote</span><span style="color:#24292E;">(request, question_id):</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> HttpResponse(</span><span style="color:#032F62;">&quot;You&#39;re voting on question </span><span style="color:#005CC5;">%s</span><span style="color:#032F62;">.&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">%</span><span style="color:#24292E;"> question_id)</span></span></code></pre></div><p>为添加的视图添加路由 <code>./polls/urls.py</code></p><div class="language-py vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki github-dark has-highlighted-lines vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">urlpatterns </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> [</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;"># ex: /polls/</span></span>
<span class="line highlighted"><span style="color:#E1E4E8;">    path(</span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">, views.index, </span><span style="color:#FFAB70;">name</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;index&quot;</span><span style="color:#E1E4E8;">), </span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;"># ex: /polls/5/</span></span>
<span class="line highlighted"><span style="color:#E1E4E8;">    path(</span><span style="color:#9ECBFF;">&quot;&lt;int:question_id&gt;/&quot;</span><span style="color:#E1E4E8;">, views.detail, </span><span style="color:#FFAB70;">name</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;detail&quot;</span><span style="color:#E1E4E8;">), </span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;"># ex: /polls/5/results/</span></span>
<span class="line highlighted"><span style="color:#E1E4E8;">    path(</span><span style="color:#9ECBFF;">&quot;&lt;int:question_id&gt;/results/&quot;</span><span style="color:#E1E4E8;">, views.results, </span><span style="color:#FFAB70;">name</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;results&quot;</span><span style="color:#E1E4E8;">), </span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;"># ex: /polls/5/vote/</span></span>
<span class="line highlighted"><span style="color:#E1E4E8;">    path(</span><span style="color:#9ECBFF;">&quot;&lt;int:question_id&gt;/vote/&quot;</span><span style="color:#E1E4E8;">, views.vote, </span><span style="color:#FFAB70;">name</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;vote&quot;</span><span style="color:#E1E4E8;">), </span></span>
<span class="line"><span style="color:#E1E4E8;">]</span></span></code></pre><pre class="shiki github-light has-highlighted-lines vp-code-light"><code><span class="line"><span style="color:#24292E;">urlpatterns </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> [</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;"># ex: /polls/</span></span>
<span class="line highlighted"><span style="color:#24292E;">    path(</span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">, views.index, </span><span style="color:#E36209;">name</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;index&quot;</span><span style="color:#24292E;">), </span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;"># ex: /polls/5/</span></span>
<span class="line highlighted"><span style="color:#24292E;">    path(</span><span style="color:#032F62;">&quot;&lt;int:question_id&gt;/&quot;</span><span style="color:#24292E;">, views.detail, </span><span style="color:#E36209;">name</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;detail&quot;</span><span style="color:#24292E;">), </span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;"># ex: /polls/5/results/</span></span>
<span class="line highlighted"><span style="color:#24292E;">    path(</span><span style="color:#032F62;">&quot;&lt;int:question_id&gt;/results/&quot;</span><span style="color:#24292E;">, views.results, </span><span style="color:#E36209;">name</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;results&quot;</span><span style="color:#24292E;">), </span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;"># ex: /polls/5/vote/</span></span>
<span class="line highlighted"><span style="color:#24292E;">    path(</span><span style="color:#032F62;">&quot;&lt;int:question_id&gt;/vote/&quot;</span><span style="color:#24292E;">, views.vote, </span><span style="color:#E36209;">name</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;vote&quot;</span><span style="color:#24292E;">), </span></span>
<span class="line"><span style="color:#24292E;">]</span></span></code></pre></div>`,8),e=[p];function t(c,r,i,y,E,u){return a(),n("div",null,e)}const F=s(l,[["render",t]]);export{q as __pageData,F as default};
