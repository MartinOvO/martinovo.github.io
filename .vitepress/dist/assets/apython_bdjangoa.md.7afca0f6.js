import{_ as s,c as n,o as a,Q as p}from"./chunks/framework.b83ad774.js";const h=JSON.parse('{"title":"第一个 Django 应用程序 - 1","description":"","frontmatter":{},"headers":[],"relativePath":"apython/bdjangoa.md","filePath":"apython/bdjangoa.md"}'),l={name:"apython/bdjangoa.md"},o=p(`<h1 id="第一个-django-应用程序-1" tabindex="-1">第一个 Django 应用程序 - 1 <a class="header-anchor" href="#第一个-django-应用程序-1" aria-label="Permalink to &quot;第一个 Django 应用程序 - 1&quot;">​</a></h1><h2 id="文件结构" tabindex="-1">文件结构 <a class="header-anchor" href="#文件结构" aria-label="Permalink to &quot;文件结构&quot;">​</a></h2><p>使用 poetry 管理的 Django 项目文件结构如下:</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">./ </span><span style="color:#6A737D;">// 项目根目录此处为 PySiteServer</span></span>
<span class="line"><span style="color:#E1E4E8;">├─ siteserver </span><span style="color:#6A737D;">// Django 项目外部根目录是项目的容器</span></span>
<span class="line"><span style="color:#E1E4E8;">│  ├─ manage.py </span><span style="color:#6A737D;">// 命令行实用程序，可以在终端中与 Django 交互</span></span>
<span class="line"><span style="color:#E1E4E8;">│  └─ siteserver </span><span style="color:#6A737D;">// 实际的 python 项目</span></span>
<span class="line"><span style="color:#E1E4E8;">│     ├─ __init__.py </span><span style="color:#6A737D;">// 一个空文件，向python声明此目录为python包</span></span>
<span class="line"><span style="color:#E1E4E8;">│     ├─ setting.py </span><span style="color:#6A737D;">// Django 配置文件</span></span>
<span class="line"><span style="color:#E1E4E8;">│     ├─ urls.py </span><span style="color:#6A737D;">// Django 路由文件</span></span>
<span class="line"><span style="color:#E1E4E8;">│     ├─ asgi.py </span><span style="color:#6A737D;">// asgi兼容web服务，部署使用</span></span>
<span class="line"><span style="color:#E1E4E8;">│     └─ wsgi.py </span><span style="color:#6A737D;">// wsgi兼容web服务，部署使用</span></span>
<span class="line"><span style="color:#E1E4E8;">├─ .venv </span><span style="color:#6A737D;">// poetry 模块</span></span>
<span class="line"><span style="color:#E1E4E8;">├─ poetry.lock </span><span style="color:#6A737D;">// poetry 模块</span></span>
<span class="line"><span style="color:#E1E4E8;">├─ pyproject.toml </span><span style="color:#6A737D;">// poetry 模块</span></span>
<span class="line"><span style="color:#E1E4E8;">└─ requirements.txt </span><span style="color:#6A737D;">// 部署模块文件</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">./ </span><span style="color:#6A737D;">// 项目根目录此处为 PySiteServer</span></span>
<span class="line"><span style="color:#24292E;">├─ siteserver </span><span style="color:#6A737D;">// Django 项目外部根目录是项目的容器</span></span>
<span class="line"><span style="color:#24292E;">│  ├─ manage.py </span><span style="color:#6A737D;">// 命令行实用程序，可以在终端中与 Django 交互</span></span>
<span class="line"><span style="color:#24292E;">│  └─ siteserver </span><span style="color:#6A737D;">// 实际的 python 项目</span></span>
<span class="line"><span style="color:#24292E;">│     ├─ __init__.py </span><span style="color:#6A737D;">// 一个空文件，向python声明此目录为python包</span></span>
<span class="line"><span style="color:#24292E;">│     ├─ setting.py </span><span style="color:#6A737D;">// Django 配置文件</span></span>
<span class="line"><span style="color:#24292E;">│     ├─ urls.py </span><span style="color:#6A737D;">// Django 路由文件</span></span>
<span class="line"><span style="color:#24292E;">│     ├─ asgi.py </span><span style="color:#6A737D;">// asgi兼容web服务，部署使用</span></span>
<span class="line"><span style="color:#24292E;">│     └─ wsgi.py </span><span style="color:#6A737D;">// wsgi兼容web服务，部署使用</span></span>
<span class="line"><span style="color:#24292E;">├─ .venv </span><span style="color:#6A737D;">// poetry 模块</span></span>
<span class="line"><span style="color:#24292E;">├─ poetry.lock </span><span style="color:#6A737D;">// poetry 模块</span></span>
<span class="line"><span style="color:#24292E;">├─ pyproject.toml </span><span style="color:#6A737D;">// poetry 模块</span></span>
<span class="line"><span style="color:#24292E;">└─ requirements.txt </span><span style="color:#6A737D;">// 部署模块文件</span></span></code></pre></div><p>整理一下项目:</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">./ </span><span style="color:#6A737D;">// 项目根目录此处为 PySiteServer</span></span>
<span class="line"><span style="color:#E1E4E8;">├─ manage.py </span><span style="color:#6A737D;">// 命令行实用程序，可以在终端中与 Django 交互</span></span>
<span class="line"><span style="color:#E1E4E8;">├─ siteserver </span><span style="color:#6A737D;">// 实际的 python 项目</span></span>
<span class="line"><span style="color:#E1E4E8;">│  ├─ __init__.py </span><span style="color:#6A737D;">// 一个空文件，向python声明此目录为python包</span></span>
<span class="line"><span style="color:#E1E4E8;">│  ├─ setting.py </span><span style="color:#6A737D;">// Django 配置文件</span></span>
<span class="line"><span style="color:#E1E4E8;">│  ├─ urls.py </span><span style="color:#6A737D;">// Django 路由文件</span></span>
<span class="line"><span style="color:#E1E4E8;">│  ├─ asgi.py </span><span style="color:#6A737D;">// asgi兼容web服务，部署使用</span></span>
<span class="line"><span style="color:#E1E4E8;">│  └─ wsgi.py </span><span style="color:#6A737D;">// wsgi兼容web服务，部署使用</span></span>
<span class="line"><span style="color:#E1E4E8;">├─ .venv </span><span style="color:#6A737D;">// poetry 模块</span></span>
<span class="line"><span style="color:#E1E4E8;">├─ poetry.lock </span><span style="color:#6A737D;">// poetry 模块</span></span>
<span class="line"><span style="color:#E1E4E8;">├─ pyproject.toml </span><span style="color:#6A737D;">// poetry 模块</span></span>
<span class="line"><span style="color:#E1E4E8;">└─ requirements.txt </span><span style="color:#6A737D;">// 部署模块文件</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">./ </span><span style="color:#6A737D;">// 项目根目录此处为 PySiteServer</span></span>
<span class="line"><span style="color:#24292E;">├─ manage.py </span><span style="color:#6A737D;">// 命令行实用程序，可以在终端中与 Django 交互</span></span>
<span class="line"><span style="color:#24292E;">├─ siteserver </span><span style="color:#6A737D;">// 实际的 python 项目</span></span>
<span class="line"><span style="color:#24292E;">│  ├─ __init__.py </span><span style="color:#6A737D;">// 一个空文件，向python声明此目录为python包</span></span>
<span class="line"><span style="color:#24292E;">│  ├─ setting.py </span><span style="color:#6A737D;">// Django 配置文件</span></span>
<span class="line"><span style="color:#24292E;">│  ├─ urls.py </span><span style="color:#6A737D;">// Django 路由文件</span></span>
<span class="line"><span style="color:#24292E;">│  ├─ asgi.py </span><span style="color:#6A737D;">// asgi兼容web服务，部署使用</span></span>
<span class="line"><span style="color:#24292E;">│  └─ wsgi.py </span><span style="color:#6A737D;">// wsgi兼容web服务，部署使用</span></span>
<span class="line"><span style="color:#24292E;">├─ .venv </span><span style="color:#6A737D;">// poetry 模块</span></span>
<span class="line"><span style="color:#24292E;">├─ poetry.lock </span><span style="color:#6A737D;">// poetry 模块</span></span>
<span class="line"><span style="color:#24292E;">├─ pyproject.toml </span><span style="color:#6A737D;">// poetry 模块</span></span>
<span class="line"><span style="color:#24292E;">└─ requirements.txt </span><span style="color:#6A737D;">// 部署模块文件</span></span></code></pre></div><h2 id="运行项目" tabindex="-1">运行项目 <a class="header-anchor" href="#运行项目" aria-label="Permalink to &quot;运行项目&quot;">​</a></h2><p>使用 PyCharm 打开项目会自动加载此项目的虚拟环境。</p><p>运行开发服务器 使用 PyCharm 内置终端输入:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">python</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">manage.py</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">runserver</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">python</span><span style="color:#24292E;"> </span><span style="color:#032F62;">manage.py</span><span style="color:#24292E;"> </span><span style="color:#032F62;">runserver</span></span></code></pre></div><p>此时终端将会看到以下输出:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">Watching</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">for</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">file</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">changes</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">with</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">StatReloader</span></span>
<span class="line"><span style="color:#B392F0;">Performing</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">system</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">checks...</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">System</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">check</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">identified</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">no</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">issues</span><span style="color:#E1E4E8;"> (0 </span><span style="color:#9ECBFF;">silenced</span><span style="color:#E1E4E8;">).</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">You</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">have</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">18</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">unapplied</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">migration</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">s</span><span style="color:#E1E4E8;">)</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Your</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">project</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">may</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">not</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">work</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">properly</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">until</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">you</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">apply</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">the</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">migrations</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">for</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">app</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">s</span><span style="color:#E1E4E8;">)</span><span style="color:#9ECBFF;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">admin,</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">auth,</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">contenttypes,</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">sessions.</span></span>
<span class="line"><span style="color:#B392F0;">Run</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;python manage.py migrate&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">to</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">apply</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">them.</span></span>
<span class="line"><span style="color:#B392F0;">September</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">29</span><span style="color:#9ECBFF;">,</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2023</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">-</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">07</span><span style="color:#9ECBFF;">:10:14</span></span>
<span class="line"><span style="color:#B392F0;">Django</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">version</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">4.2</span><span style="color:#9ECBFF;">.5,</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">using</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">settings</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;siteserver.settings&#39;</span></span>
<span class="line"><span style="color:#B392F0;">Starting</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">development</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">server</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">at</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">http://127.0.0.1:8000/</span></span>
<span class="line"><span style="color:#B392F0;">Quit</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">the</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">server</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">with</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">CONTROL-C.</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">Watching</span><span style="color:#24292E;"> </span><span style="color:#032F62;">for</span><span style="color:#24292E;"> </span><span style="color:#032F62;">file</span><span style="color:#24292E;"> </span><span style="color:#032F62;">changes</span><span style="color:#24292E;"> </span><span style="color:#032F62;">with</span><span style="color:#24292E;"> </span><span style="color:#032F62;">StatReloader</span></span>
<span class="line"><span style="color:#6F42C1;">Performing</span><span style="color:#24292E;"> </span><span style="color:#032F62;">system</span><span style="color:#24292E;"> </span><span style="color:#032F62;">checks...</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">System</span><span style="color:#24292E;"> </span><span style="color:#032F62;">check</span><span style="color:#24292E;"> </span><span style="color:#032F62;">identified</span><span style="color:#24292E;"> </span><span style="color:#032F62;">no</span><span style="color:#24292E;"> </span><span style="color:#032F62;">issues</span><span style="color:#24292E;"> (0 </span><span style="color:#032F62;">silenced</span><span style="color:#24292E;">).</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">You</span><span style="color:#24292E;"> </span><span style="color:#032F62;">have</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">18</span><span style="color:#24292E;"> </span><span style="color:#032F62;">unapplied</span><span style="color:#24292E;"> </span><span style="color:#032F62;">migration</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">s</span><span style="color:#24292E;">)</span><span style="color:#032F62;">.</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Your</span><span style="color:#24292E;"> </span><span style="color:#032F62;">project</span><span style="color:#24292E;"> </span><span style="color:#032F62;">may</span><span style="color:#24292E;"> </span><span style="color:#032F62;">not</span><span style="color:#24292E;"> </span><span style="color:#032F62;">work</span><span style="color:#24292E;"> </span><span style="color:#032F62;">properly</span><span style="color:#24292E;"> </span><span style="color:#032F62;">until</span><span style="color:#24292E;"> </span><span style="color:#032F62;">you</span><span style="color:#24292E;"> </span><span style="color:#032F62;">apply</span><span style="color:#24292E;"> </span><span style="color:#032F62;">the</span><span style="color:#24292E;"> </span><span style="color:#032F62;">migrations</span><span style="color:#24292E;"> </span><span style="color:#032F62;">for</span><span style="color:#24292E;"> </span><span style="color:#032F62;">app</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">s</span><span style="color:#24292E;">)</span><span style="color:#032F62;">:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">admin,</span><span style="color:#24292E;"> </span><span style="color:#032F62;">auth,</span><span style="color:#24292E;"> </span><span style="color:#032F62;">contenttypes,</span><span style="color:#24292E;"> </span><span style="color:#032F62;">sessions.</span></span>
<span class="line"><span style="color:#6F42C1;">Run</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;python manage.py migrate&#39;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">to</span><span style="color:#24292E;"> </span><span style="color:#032F62;">apply</span><span style="color:#24292E;"> </span><span style="color:#032F62;">them.</span></span>
<span class="line"><span style="color:#6F42C1;">September</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">29</span><span style="color:#032F62;">,</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2023</span><span style="color:#24292E;"> </span><span style="color:#032F62;">-</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">07</span><span style="color:#032F62;">:10:14</span></span>
<span class="line"><span style="color:#6F42C1;">Django</span><span style="color:#24292E;"> </span><span style="color:#032F62;">version</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">4.2</span><span style="color:#032F62;">.5,</span><span style="color:#24292E;"> </span><span style="color:#032F62;">using</span><span style="color:#24292E;"> </span><span style="color:#032F62;">settings</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;siteserver.settings&#39;</span></span>
<span class="line"><span style="color:#6F42C1;">Starting</span><span style="color:#24292E;"> </span><span style="color:#032F62;">development</span><span style="color:#24292E;"> </span><span style="color:#032F62;">server</span><span style="color:#24292E;"> </span><span style="color:#032F62;">at</span><span style="color:#24292E;"> </span><span style="color:#032F62;">http://127.0.0.1:8000/</span></span>
<span class="line"><span style="color:#6F42C1;">Quit</span><span style="color:#24292E;"> </span><span style="color:#032F62;">the</span><span style="color:#24292E;"> </span><span style="color:#032F62;">server</span><span style="color:#24292E;"> </span><span style="color:#032F62;">with</span><span style="color:#24292E;"> </span><span style="color:#032F62;">CONTROL-C.</span></span></code></pre></div><div class="info custom-block"><p class="custom-block-title">提示</p><p>暂时忽略关于数据库迁移相关的警告，在以后的相关文档中会有相关的配置说明。</p></div><p>即可在本地的 <code>8000</code> 端口开启服务。</p><div class="info custom-block"><p class="custom-block-title">提示</p><ol><li>不要在生产环境中使用 <code>python manage.py runserver</code> 命令开启服务，此命令仅用于启动开发服务，部署相关的文档会在以后说明。</li><li>默认开发服务在本地的 <code>8000</code> 端口，也可以使用以下命令 <code>python manage.py runserver 8080</code> 修改端口。</li><li>如果在一个有外部 ip 的服务器上进行开发，并且想要通过外部访问开发服务可以使用以下命令 <code>python manage.py runserver 0.0.0.0:8000</code> 。</li></ol></div><p>通过浏览器访问 <code>http://127.0.0.1:8000/</code> 会在页面中看到一个起飞的火箭。</p><h2 id="创建投票应用" tabindex="-1">创建投票应用 <a class="header-anchor" href="#创建投票应用" aria-label="Permalink to &quot;创建投票应用&quot;">​</a></h2><p>以上运行的一个项目已经配置完成，可以进行开发工作了。 项目可以认为是整个服务，而项目中的应用是完成特定功能的一个子服务。Django 开发约定功能开发功能基于应用。</p><p>创建应用确保终端的目录下有 <code>manage.py</code> 文件:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">python</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">manage.py</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">startapp</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">polls</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">python</span><span style="color:#24292E;"> </span><span style="color:#032F62;">manage.py</span><span style="color:#24292E;"> </span><span style="color:#032F62;">startapp</span><span style="color:#24292E;"> </span><span style="color:#032F62;">polls</span></span></code></pre></div><p>这将创建一个目录:</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">./polls/ </span><span style="color:#6A737D;">// 应用 polls</span></span>
<span class="line"><span style="color:#E1E4E8;">├─ __init__.py</span></span>
<span class="line"><span style="color:#E1E4E8;">├─ admin.py</span></span>
<span class="line"><span style="color:#E1E4E8;">├─ apps.py</span></span>
<span class="line"><span style="color:#E1E4E8;">├─ migrations</span></span>
<span class="line"><span style="color:#E1E4E8;">│  └─ __init__.py</span></span>
<span class="line"><span style="color:#E1E4E8;">├─ models.py</span></span>
<span class="line"><span style="color:#E1E4E8;">├─ tests.py</span></span>
<span class="line"><span style="color:#E1E4E8;">└─ views.py</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">./polls/ </span><span style="color:#6A737D;">// 应用 polls</span></span>
<span class="line"><span style="color:#24292E;">├─ __init__.py</span></span>
<span class="line"><span style="color:#24292E;">├─ admin.py</span></span>
<span class="line"><span style="color:#24292E;">├─ apps.py</span></span>
<span class="line"><span style="color:#24292E;">├─ migrations</span></span>
<span class="line"><span style="color:#24292E;">│  └─ __init__.py</span></span>
<span class="line"><span style="color:#24292E;">├─ models.py</span></span>
<span class="line"><span style="color:#24292E;">├─ tests.py</span></span>
<span class="line"><span style="color:#24292E;">└─ views.py</span></span></code></pre></div><ol><li>编辑视图</li></ol><div class="language-py vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> django.shortcuts </span><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> render, HttpResponse</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Create your views here.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">def</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">index</span><span style="color:#E1E4E8;">(request):</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> HttpResponse(</span><span style="color:#9ECBFF;">&#39;Hello Django 投票系统&#39;</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">from</span><span style="color:#24292E;"> django.shortcuts </span><span style="color:#D73A49;">import</span><span style="color:#24292E;"> render, HttpResponse</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Create your views here.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">def</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">index</span><span style="color:#24292E;">(request):</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> HttpResponse(</span><span style="color:#032F62;">&#39;Hello Django 投票系统&#39;</span><span style="color:#24292E;">)</span></span></code></pre></div><ol start="2"><li><p>创建子路由</p><ul><li>创建 <code>./polls/urls.py</code></li><li>将视图与路由绑定</li></ul><div class="language-py vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> django.urls </span><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> path</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> . </span><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> views</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">urlpatterns </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> [</span></span>
<span class="line"><span style="color:#E1E4E8;">    path(</span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">, views.index, </span><span style="color:#FFAB70;">name</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;index&quot;</span><span style="color:#E1E4E8;">),</span></span>
<span class="line"><span style="color:#E1E4E8;">]</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">from</span><span style="color:#24292E;"> django.urls </span><span style="color:#D73A49;">import</span><span style="color:#24292E;"> path</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">from</span><span style="color:#24292E;"> . </span><span style="color:#D73A49;">import</span><span style="color:#24292E;"> views</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">urlpatterns </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> [</span></span>
<span class="line"><span style="color:#24292E;">    path(</span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">, views.index, </span><span style="color:#E36209;">name</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;index&quot;</span><span style="color:#24292E;">),</span></span>
<span class="line"><span style="color:#24292E;">]</span></span></code></pre></div></li><li><p>子路由绑定根路由</p><div class="language-py vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki github-dark has-focused-lines vp-code-dark"><code><span class="line"><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> django.contrib </span><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> admin</span></span>
<span class="line has-focus"><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> django.urls </span><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> path, include </span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">urlpatterns </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> [</span></span>
<span class="line"><span style="color:#E1E4E8;">    path(</span><span style="color:#9ECBFF;">&#39;admin/&#39;</span><span style="color:#E1E4E8;">, admin.site.urls),</span></span>
<span class="line has-focus"><span style="color:#E1E4E8;">    path(</span><span style="color:#9ECBFF;">&#39;polls&#39;</span><span style="color:#E1E4E8;">, include(</span><span style="color:#9ECBFF;">&#39;polls.urls&#39;</span><span style="color:#E1E4E8;">)) </span></span>
<span class="line"><span style="color:#E1E4E8;">]</span></span></code></pre><pre class="shiki github-light has-focused-lines vp-code-light"><code><span class="line"><span style="color:#D73A49;">from</span><span style="color:#24292E;"> django.contrib </span><span style="color:#D73A49;">import</span><span style="color:#24292E;"> admin</span></span>
<span class="line has-focus"><span style="color:#D73A49;">from</span><span style="color:#24292E;"> django.urls </span><span style="color:#D73A49;">import</span><span style="color:#24292E;"> path, include </span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">urlpatterns </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> [</span></span>
<span class="line"><span style="color:#24292E;">    path(</span><span style="color:#032F62;">&#39;admin/&#39;</span><span style="color:#24292E;">, admin.site.urls),</span></span>
<span class="line has-focus"><span style="color:#24292E;">    path(</span><span style="color:#032F62;">&#39;polls&#39;</span><span style="color:#24292E;">, include(</span><span style="color:#032F62;">&#39;polls.urls&#39;</span><span style="color:#24292E;">)) </span></span>
<span class="line"><span style="color:#24292E;">]</span></span></code></pre></div></li></ol><p>启动服务，浏览器访问 <code>http://localhost:8000/polls</code> 可以看到 <code>Hello Django 投票系统</code>。</p>`,26),e=[o];function t(c,r,y,E,i,F){return a(),n("div",null,e)}const g=s(l,[["render",t]]);export{h as __pageData,g as default};
